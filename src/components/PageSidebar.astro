---

import ChildLinks from "../components/ChildLinks.astro";

import MobileTableOfContents from '@astrojs/starlight/components/MobileTableOfContents.astro';
import TableOfContents from '@astrojs/starlight/components/TableOfContents.astro';
import PageBacklinks from "./PageBacklinks.astro";

---

<>
	<div class="lg:sl-hidden">

      </div>
			<div class="right-sidebar-panel sl-hidden lg:sl-block">
			<div class="sl-container">
            <h2>also links here:</h2>
          <PageBacklinks class="right-sidebar-panel backlinks-panel">
          </PageBacklinks>
        </div>
			</div>
		</>


<ChildLinks class="children-panel">
</ChildLinks>

{Astro.locals.starlightRoute.toc && (
	<>
		<div class="lg:sl-hidden">
			<MobileTableOfContents />
		</div>
		<div class="right-sidebar-panel sl-hidden lg:sl-block">
			<div class="sl-container">
				<h2>on this page</h2>
				<TableOfContents />
			</div>
		</div>
	</>
)}

<style>
	@layer starlight.core {
		.right-sidebar-panel {
			padding: 0.8rem var(--sl-sidebar-pad-x);
		}
		.sl-container {
			width: calc(var(--sl-sidebar-width) - 2 * var(--sl-sidebar-pad-x));
		}
		.right-sidebar-panel :global(h2) {
			color: var(--sl-color-white);
			font-size: var(--sl-text-h6);
			font-weight: 500;
			line-height: var(--sl-line-height-headings);
			margin-bottom: 0.5rem;
      font-family: "Noto Serif Variable", serif !important;
		}

		starlight-toc nav h2 {
			visibility: none !important;
		}

		.right-sidebar-panel :global(.children-panel a),
		.right-sidebar-panel :global(.backlinks-panel a),
		.right-sidebar-panel :global(starlight-toc a) {
			font-size: var(--sl-text-xs);
			text-decoration: none;
			color: var(--sl-color-gray-3);
			display: block;
			overflow-wrap: anywhere;
			transition: color .15s ease;
		}
		.right-sidebar-panel :global(starlight-toc a:hover),
		.right-sidebar-panel :global(.children-panel a:hover),
		.right-sidebar-panel :global(.backlinks-panel a:hover) {
			color: var(--sl-color-white);
		}
		.right-sidebar-panel :global(starlight-toc ul ul) {
			border-left: 1px solid var(--sl-color-gray-7);
			margin-left: .25rem;
			padding-left: .5rem;
		}


	}
</style>