---
import MobileTableOfContents from '@astrojs/starlight/components/MobileTableOfContents.astro';
import TableOfContents from '@astrojs/starlight/components/TableOfContents.astro';
import PageBacklinks from "./PageBacklinks.astro";

---

<>
	<div class="lg:sl-hidden">

      </div>
			<div class="right-sidebar-panel sl-hidden lg:sl-block">
			<div class="sl-container">
            <h2>also links here:</h2>
          <PageBacklinks class="backlinks-panel">
          </PageBacklinks>
        </div>
			</div>
		</>

{Astro.locals.starlightRoute.toc && (
	<>
		<div class="lg:sl-hidden">
			<h2 class="toc-title">on this page:</h2>
			<MobileTableOfContents />
		</div>
		<div class="right-sidebar-panel sl-hidden lg:sl-block">
			<div class="sl-container">
				<h2 class="toc-title">on this page:</h2>
				<TableOfContents />
			</div>
		</div>
	</>
)}

<style>
	:root {
		.right-sidebar-panel {
			padding: 0.8rem var(--sl-sidebar-pad-x);
		}
		.right-sidebar-panel .sl-container {
			width: calc(var(--sl-sidebar-width) - 2 * var(--sl-sidebar-pad-x));
		}
		.right-sidebar-panel h2 {
			color: var(--sl-color-white);
			font-size: var(--sl-text-h6);
			font-weight: 500;
			line-height: var(--sl-line-height-headings);
			margin-bottom: 0.5rem;
      		font-family: "Noto Serif Variable", serif !important;
		}
		.right-sidebar-panel #starlight__on-this-page {
			display: none;
		}

	}
</style>