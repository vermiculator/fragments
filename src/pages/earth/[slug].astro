---
import { getCollection } from 'astro:content';
import Layout from '../../components/Layout.astro';

interface Props {
  slug: string;
}

const { slug } = Astro.params;

// Get the entry for this slug
const allEntries = await getCollection('earth');
const entry = allEntries.find(e => e.id === slug);

if (!entry) {
  return Astro.redirect('/404');
}

const { Content } = await entry.render();
---

<Layout title={entry.data.title}>
  <Content />
</Layout>
